<Window x:Class="App_Automatize_Backery.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:App_Automatize_Backery"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" xmlns:viewmodels="clr-namespace:App_Automatize_Backery.ViewModels" d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}"
        mc:Ignorable="d"
        Title="MainWindow" Height="650" Width="1200" Style="{StaticResource MaterialDesignWindow}" >
    <Window.Resources>
        <!-- Стилизация затемняющего слоя -->
        <SolidColorBrush x:Key="DarkOverlayBrush" Color="#80000000"/>

        <!-- Анимация открытия меню -->
        <Storyboard x:Key="DrawerOpenStoryboard">
            <DoubleAnimation Storyboard.TargetName="Drawer"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                             From="-250" To="0" Duration="0:0:0.5" />
            <ColorAnimation Storyboard.TargetName="Overlay"
                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                            From="Transparent" To="#80000000" Duration="0:0:0.5" />
        </Storyboard>

        <!-- Анимация закрытия меню -->
        <Storyboard x:Key="DrawerCloseStoryboard">
            <DoubleAnimation Storyboard.TargetName="Drawer"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                             From="0" To="-250" Duration="0:0:0.5" />
            <ColorAnimation Storyboard.TargetName="Overlay"
                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                            From="#80000000" To="Transparent" Duration="0:0:0.5" />
        </Storyboard>
    </Window.Resources>

    <Grid>
        <!-- Затемняющий слой -->
        <Border x:Name="Overlay" Background="Transparent" Visibility="Collapsed" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                Panel.ZIndex="2"/>

        <!-- Боковое меню -->
        <Grid x:Name="Drawer" Width="250" Background="DimGray" Opacity="0.70" HorizontalAlignment="Left" VerticalAlignment="Top"
              Panel.ZIndex="3">
            <Grid.RenderTransform>
                <TranslateTransform X="-250" Y="55" />
            </Grid.RenderTransform>
            <StackPanel Height="auto">
                <Button Content="Сырье" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowRawMaterialsCommand}"/>
                <Button Content="Склады" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowWarehouseCommand}"/>
                <Button Content="Продукты" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowProductsCommand}"/>
                <Button Content="Производство" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowProductionCommand}"/>
                <Button Content="Пользователь" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowUserCommand}"/>
                <Button Content="Поставки" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowSupplyCommand}"/>
                <Button Content="Продажи" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowSaleCommand}"/>
                <Button Content="Оборудование" Height="50" Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Command="{Binding ShowEquipmentCommand}"/>
            </StackPanel>
        </Grid>

        <!-- Основной контент -->
        <Grid Height="Auto" Panel.ZIndex="3">
            <Button Grid.Row="0" Content="☰ Меню" Width="110" Height="40" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0 5 0 0"
                    Style="{StaticResource MaterialDesignFlatButton}" Foreground="White" Background="DarkGray" Click="ToggleMenuButton_Click"/>
        </Grid>
        <ContentControl Content="{Binding CurrentView}" Margin="10,55,10,10" Panel.ZIndex="0"/>
    </Grid>
</Window>
